<div class="page-width clovecode_most_popular_designs_section">
  {% if section.settings.title != blank %}
    <div class="section-header text-center">
      <p class="index-subtitle-common">{{ section.settings.subheading | escape }}</p>
      <h2 class="h1 section-header__title">{{ section.settings.title | escape }}</h2>
    </div>
  {% endif %}

  {%- assign collection = collections[section.settings.collection] -%}
  
   <div class="most_popular_design">
		{% for product in collection.products limit: product_limit %}
      		<div class="grid__item grid__item--{{section.id}}">
                <div class="main-grid-product__wrapper">
                 
                  <a class="links-p" href="{{ product.url | within: collection }}">
               
              <div class="popular_img_clv">
              	<img src="{{ product.featured_media.preview_image | img_url: 'large' }}">
              </div>
         	  <div class="h4 grid-view-item__title product-card__title" aria-hidden="true">{{ product.title }}</div>
				{% include 'most-popular-price-listing' %}
                  </a>
              </div>
        	 </div>
    	{% endfor %}
  </div>

</div>



{% schema %}
{
  "name": {
    "en": "Most Popular Designs"
  },
  "class": "index-section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Sub Heading"
    },
    {
      "id": "collection",
      "type": "collection",
      "label":"Select Collection"
    }
  ],
  "presets": [
    {
      "name": {
        "en": "Most Popular Designs"
      },
      "category": {
        "en": "Collection"
      }
    }
  ]
}
{% endschema %}
<script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script>
$('.most_popular_design').slick({
  arrows: true,
  infinite: true,
  autoplay: true,
  autoplaySpeed: 4000,
  slidesToShow: 4,
  slidesToScroll: 1,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 1,
        infinite: true,
        arrows: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 1
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 1
      }
    }
    // You can unslick at a given breakpoint now by adding:
    // settings: "unslick"
    // instead of a settings object
  ]
});
</script>
